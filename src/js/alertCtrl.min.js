var alertCtrl={modal:function(t){t=this.create(t);this.present(t.modal)},body:!1,footer:!1,createUUID(){var a=(new Date).getTime();return window.performance&&"function"==typeof window.performance.now&&(a+=performance.now()),"Zxxx-Axxx".replace(/[xy]/g,function(t){var e=(a+16*Math.random())%16|0;return a=Math.floor(a/16),("x"==t?e:3&e|8).toString(16)})},showMessage(t,e){this.modal({title:t,subTitle:e})},create(e){var a={title:"",subTitle:!1,imgTop:!1,html:!1,bgClass:"",closeButton:!0,id:this.createUUID(),open:function(){},buttons:[],inputs:[],size:"modal-sm",bgColor:"bg-light",modalTitleClass:""},s=(this.settings=$.extend(!0,{},a,e),$("<div />").attr("id",this.settings.id).attr("role","dialog").addClass(`modal ${this.settings.bgClass} fade`).attr("tabindex","-1").attr("aria-lalledby",this.settings.id).attr("aria-modal","true")),t=$("<div />").addClass("modal-dialog modal-dialog-centered "+this.settings.size),d=$("<div />").addClass("modal-content "+this.settings.bgColor),i=(this.settings.imgTop&&(i=$("<img />").attr("src",this.settings.imgTop).addClass("card-img-top").attr("alt","model"),d.append(i)),t.append(d),$("<div />").addClass("modal-header border-0")),n=(this.settings.imgTop&&i.addClass("floating d-flex justify-content-between w-100"),$("<div />").addClass("d-flex justify-content-between w-100")),o=(this.settings.title&&((o=$("<div />").addClass("")).append($("<h4 />").addClass("modal-title "+this.settings.modalTitleClass).html(this.settings.title)),n.append(o)),this.settings.closeButton&&((o=$("<div />").addClass("")).append($("<button />").attr("type","button").addClass("close btn btn-sm px-3 shadow-none btn-outline-dark waves-effect waves-light").html('<span aria-hidden="true">&times;</span>').click(function(){s.dismiss()})),n.append(o)),i.append(n),d.append(i),d.append($("<div />").addClass("modal-body").html(this.settings.subTitle)),this.settings.html&&d.append($("<div />").addClass("modal-body").html(this.settings.html)),d.append($("<div />").addClass("modal-footer border-0")),this.settings.cssClass&&d.find(".modal-footer").addClass(this.settings.cssClass),s.append(t),s.shown=!1,s.dismiss=function(t){s.modal("hide"),this.settings=$.extend(!0,{},a,e),object_id=this.settings.id,window.setTimeout(()=>{$("body").removeClass("modal-open"),$(".responsive-bootstrap-toolkit").remove(),$(".modal-backdrop").remove(),$("#"+object_id).remove(),null!=t&&t()},500)},s.find(".modal-footer")),n=s.find(".modal-body");this.settings.inputs.length;this.modal=s,this.body=n,this.footer=o,this.settings.inputs.map(t=>{this.addInput(t)}),this.settings.buttons.map(t=>{this.addButton(t)});for(var l=0;l<this.settings.buttons.length;l++);return this.settings.open(s),s.on("shown.bs.modal",function(t){s.shown=!0}),this},addInput(t){var e,a,s,d;t&&(e=t.id??this.createUUID(),t.id=e,"radio"===t.type?(d=$("<div />").addClass("custom-control custom-radio pb-2 mb-2 border-bottom"),a=$("<input />").addClass("form-control underlined").attr("class","custom-control-input").attr("id",e).attr("type",t.type).attr("name",t.name).attr("placeholder",t.placeholder).attr("checked",t.checked).val(t.value),s=$("<label />").addClass("form-control underlined").attr("class","custom-control-label").attr("for",e).text(t.text),d.append(a,s),this.body.append(d)):"checkbox"===t.type?(a=$("<div />").addClass("form-check"),s=$("<input />").addClass("form-check-input").attr("id",e).attr("type",t.type).attr("name",t.name).attr("placeholder",t.placeholder).attr("checked",t.checked).val(t.value),d=$("<label />").addClass("form-check-label").attr("for",e).text(t.label),a.append(s,d),this.body.append(a)):(s=$("<div />").addClass("mb-3"),null!=t.label&&s.append($("<label />").addClass("form-label").attr("for",e).text(t.label)),d=$("<input />").addClass("form-control").attr("id",e).attr("type",t.type).attr("name",t.name).val(t.value).attr("placeholder",t.placeholder),null!=t.min&&d.attr("min",t.min),null!=t.maxLenght&&d.attr("maxlength",t.maxLenght),s.append(d),this.body.append(s)))},addButton(t){var e=t.id??this.createUUID(),a=(t.id=e,null==t.class?"btn-light":t.class);this.footer.prepend($("<button />").addClass("btn shadow-none mb-0 "+a).attr("id",e).attr("type","button").text(t.text).click(()=>{!!this.settings.inputs.length?(t.handler(this.getInputsData(this.settings.inputs)),this.modal.dismiss()):t.handler(this.modal),"cancel"==t.role&&this.modal.dismiss()}))},present(t){t.modal("show"),setTimeout(()=>{t.find("button").eq(0).focus()},400)},getInputsData(t){var e={};return t.forEach(t=>{"radio"==t.type?e[t.name]=$("input[name='"+t.name+"']").val():e[t.name]=$("#"+t.id).val()}),e}};